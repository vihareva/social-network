(this.webpackJsonpsocialnetwork=this.webpackJsonpsocialnetwork||[]).push([[0],{103:function(e,t,n){e.exports={appWrapper:"App_appWrapper__Etu7z",appWrapperContent:"App_appWrapperContent__3NrT9"}},132:function(e,t,n){e.exports={nav:"Navbar_nav__3OPB_",photo:"Navbar_photo__1i8Lu",profile:"Navbar_profile__2-Txl"}},15:function(e,t,n){e.exports={container:"Common_container__23_ts",button:"Common_button__BhW19",input:"Common_input__2e8Qy"}},152:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a,s=n(0),r=n.n(s),o=n(44),i=n.n(o),c=(n(152),n(36)),l=n(37),u=n(45),d=n(47),j=n(103),b=n.n(j),p=n(21),f=n(7),h=n(18),O=n(22),g=n(17),m=n(16),x=n.n(m),_=n(128),v=n.n(_).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6e9ab0a0-db04-48d5-b17f-32168bf67567"}}),P=function(e,t,n){return v.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n.term,"&friend=").concat(n.friend)).then((function(e){return e.data}))},C=function(e){return v.delete("follow/".concat(e)).then((function(e){return e.data}))},N=function(e){return v.post("follow/".concat(e)).then((function(e){return e.data}))},y=function(e){return v.get("profile/"+e)},w=function(e){return v.get("/profile/status/".concat(e))},I=function(e){return v.put("/profile/status",{status:e})},S=function(e){var t=new FormData;return t.append("image",e),v.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},k=function(e){return v.put("/profile",e)},E=function(){return v.get("auth/me")},T=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},F=function(){return v.delete("auth/login")},A=function(){return v.get("security/get-captcha-url")},D={users:[],pageSize:12,totalUsersCount:0,currentPageNumber:1,isFetching:!0,followingInProgressIDs:[],newPortionNumber:1,filter:{term:"",friend:null}},U=function(e,t){return{type:"FOLLOW_UNFOLLOW",userId:e,isFollowed:t}},M=function(e){return{type:"SET_USERS",users:e}},L=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e}},z=function(e){return{type:"SET_FILTER",filter:e}},R=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},B=function(e,t){return{type:"TOGGLE_FOLLOWING_PROGRESS",isFetching:e,userId:t}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW_UNFOLLOW":return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(f.a)(Object(f.a)({},e),{},{followed:t.isFollowed}):e}))});case"SET_USERS":return Object(f.a)(Object(f.a)({},e),{},{users:t.users});case"SET_TOTAL_USERS_COUNT":return Object(f.a)(Object(f.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"SET_CURRENT_PAGE":return Object(f.a)(Object(f.a)({},e),{},{currentPageNumber:t.currentPageNumber});case"TOGGLE_IS_FETCHING":return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.isFetching});case"SET_FILTER":return Object(f.a)(Object(f.a)({},e),{},{filter:t.filter});case"TOGGLE_FOLLOWING_PROGRESS":return Object(f.a)(Object(f.a)({},e),{},{followingInProgressIDs:t.isFetching?[].concat(Object(g.a)(e.followingInProgressIDs),[t.userId]):e.followingInProgressIDs.filter((function(e){return e!==t.userId}))});default:return e}},W=n(13),H=n(54),J=n.n(H),V=n(15),q=n.n(V),Z=n(32),Q=n(23),X=n(1),K=r.a.memo((function(e){var t=Math.ceil(e.totalItemsCount/e.pageSize),n=Object(s.useState)(1),a=Object(W.a)(n,2),r=a[0],o=a[1];Object(s.useEffect)((function(){e.onPageChanged(u)}),[r]);for(var i=[],c=1;c<=t;c++)i.push(c);var l=Math.ceil(i.length/e.portionSize),u=(r-1)*e.portionSize+1,d=r*e.portionSize;return Object(X.jsx)(X.Fragment,{children:e.items.length?Object(X.jsx)("div",{className:J.a.paginatorCont,children:Object(X.jsxs)("div",{className:" ".concat(q.a.container," ").concat(J.a.pagesContainer," "),children:[r>1&&Object(X.jsx)("span",{className:J.a.button,onClick:function(){return o(r-1)},children:Object(X.jsx)(Z.a,{icon:Q.a})}),i.map((function(t){if(t>=u&&t<=d)return Object(X.jsx)("span",{className:e.currentPage===t?"".concat(J.a.page," ").concat(J.a.selectedPage):J.a.page,onClick:function(){e.onPageChanged(t)},children:t})})),r<l&&Object(X.jsx)("span",{className:J.a.button,onClick:function(){return o(r+1)},children:Object(X.jsx)(Z.a,{icon:Q.b})})]})}):Object(X.jsx)("div",{})})})),Y=n(65),$=n(30),ee=n.p+"static/media/userPhoto.7cb79308.jpg",te=n(88),ne=n.n(te),ae=n(70),se=n.n(ae),re=["user"],oe=function(e){var t=e.user,n=Object(Y.a)(e,re);return Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(se.a.userContainer),children:[Object(X.jsx)("div",{className:se.a.imgContainer,children:Object(X.jsx)($.b,{to:"/profile/"+t.id,children:Object(X.jsx)("img",{src:null!=t.photos.small?t.photos.small:ee,className:ne.a.userPhoto})})}),Object(X.jsxs)("div",{className:se.a.descContainer,children:[Object(X.jsx)("div",{className:se.a.name,children:t.name}),Object(X.jsx)("div",{className:se.a.status,children:t.status})]}),Object(X.jsx)("div",{children:t.followed?Object(X.jsx)("button",{className:q.a.button,disabled:n.followingInProgressIDs.some((function(e){return e===t.id})),onClick:function(){n.unfollow(t.id)},children:"Unfollow"}):Object(X.jsx)("button",{className:q.a.button,disabled:n.followingInProgressIDs.some((function(e){return e===t.id})),onClick:function(){n.follow(t.id)},children:"Follow"})})]})},ie=n(134),ce=n(231),le=n(232),ue=n(222),de=n(227),je=n(223),be=n(58),pe=r.a.memo((function(e){var t=Object(be.b)({defaultValues:{term:e.filter.term,friend:String(e.filter.friend)},mode:"onSubmit"}),n=t.register,a=t.handleSubmit,r=t.reset,o=t.control;Object(s.useEffect)((function(){r({term:e.filter.term,friend:String(e.filter.friend)})}),[e.filter]);var i=Object(ie.a)({typography:{fontFamily:'"Montserrat",  sans-serif',fontWeightRegular:600,body1:{color:"#4c4c4c"},h4:{color:"red"}},palette:{primary:{main:"#104f9e",contrastText:"#6d6b6b"}}});return Object(X.jsx)("div",{children:Object(X.jsx)("form",{onSubmit:a((function(t){var n={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterForm(n)})),children:Object(X.jsxs)(ce.a,{theme:i,children:[Object(X.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(X.jsx)(le.a,{style:{width:"64%"},children:Object(X.jsx)(be.a,{control:o,name:"friend",render:function(e){var t=e.field,n=t.onChange,a=t.value;return Object(X.jsxs)(ue.a,{value:a,onChange:n,children:[Object(X.jsx)(de.a,{value:"true",children:"Friends"}),Object(X.jsx)(de.a,{value:"false",children:"Not followed users"}),Object(X.jsx)(de.a,{value:"null",children:"All users"})]})}})})}),Object(X.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(X.jsx)(je.a,Object(f.a)({style:{width:"50%"},margin:"normal",variant:"standard"},n("term"))),Object(X.jsx)("button",{type:"submit",style:{marginTop:"10px",marginLeft:"10px"},className:"".concat(q.a.button),children:"Find"})]})]})})})})),fe=r.a.memo((function(e){return Object(X.jsxs)("div",{children:[Object(X.jsx)(pe,{filter:e.filter,onFilterForm:e.onFilterForm}),Object(X.jsx)(K,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:5,items:e.users}),e.users.length?Object(X.jsx)("div",{className:ne.a.usersContainer,children:e.users.map((function(t){return Object(X.jsx)(oe,{user:t,follow:e.follow,followingInProgressIDs:e.followingInProgressIDs,toggleFollowingProgress:e.toggleFollowingProgress,unfollow:e.unfollow},t.id)}))}):Object(X.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:"Users not found"})]})})),he=n(235),Oe=Object(ie.a)({palette:{primary:{main:"#104f9e"}}}),ge=function(){return Object(X.jsx)(ce.a,{theme:Oe,children:Object(X.jsx)(he.a,{})})},me=n(28),xe=n(109),_e=n.n(xe),ve=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.getUsers(t,e.props.pageSize,e.props.filter)},e.onFilterForm=function(t){e.props.setCurrentPage(1),e.props.getUsers(1,e.props.pageSize,t)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.history.location.search,t=_e.a.parse(e.substring(1)),n=this.props.currentPageNumber;t.page&&(n=Number(t.page));var a=this.props.filter;switch(t.term&&(a=Object(f.a)(Object(f.a)({},a),{},{term:t.term})),t.friend){case"null":a=Object(f.a)(Object(f.a)({},a),{},{friend:null});break;case"true":a=Object(f.a)(Object(f.a)({},a),{},{friend:!0});break;case"false":a=Object(f.a)(Object(f.a)({},a),{},{friend:!1})}this.props.getUsers(n,this.props.pageSize,a)}},{key:"componentDidUpdate",value:function(e){if(this.props.filter!==e.filter||this.props.currentPageNumber!==e.currentPageNumber){var t={};this.props.filter.term&&(t.term=this.props.filter.term),1!==this.props.currentPageNumber&&(t.page=String(this.props.currentPageNumber)),null!==this.props.filter.friend&&(t.friend=String(this.props.filter.friend));var n=_e.a.stringify(t);this.props.history.push("?"+n,"/users")}}},{key:"render",value:function(){return Object(X.jsxs)(X.Fragment,{children:[this.props.isFetching?Object(X.jsx)(ge,{}):null,Object(X.jsx)(fe,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPageNumber,onPageChanged:this.onPageChanged,onFilterForm:this.onFilterForm,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgressIDs:this.props.followingInProgressIDs,toggleFollowingProgress:this.props.toggleFollowingProgress,filter:this.props.filter})]})}}]),n}(r.a.Component),Pe=Object(me.c)(Object(h.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPageNumber:e.usersPage.currentPageNumber,isFetching:e.usersPage.isFetching,followingInProgressIDs:e.usersPage.followingInProgressIDs,filter:e.usersPage.filter}}),{follow:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(B(!0,e)),t.next=3,N(e);case 3:0===t.sent.resultCode&&n(U(e,!0)),n(B(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(B(!0,e)),t.next=3,C(e);case 3:0===t.sent.resultCode&&n(U(e,!1)),n(B(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUsers:M,setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPageNumber:e}},setTotalUsersCount:L,toggleIsFetching:R,toggleFollowingProgress:B,getUsers:function(e,t,n){return function(){var a=Object(O.a)(x.a.mark((function a(s){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(R(!0)),a.next=3,P(e,t,n);case 3:r=a.sent,s(M(r.items)),s(L(r.totalCount)),s(z(n)),s(R(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),p.f)(ve),Ce=n(93),Ne=n.n(Ce),ye=n(92),we=n.n(ye),Ie=n(228),Se=n(225),ke={error:null,isInitialized:!1},Ee={id:null,email:null,login:null,isAuth:!1,captcha:null},Te=function(e,t,n,a){return{type:"SET_USER_DATA",data:{id:e,email:t,login:n,isAuth:a}}},Fe=function(){return function(e){return E().then((function(t){if(0===t.data.resultCode){var n=t.data.data,a=n.id,s=n.email,r=n.login;e(Te(a,s,r,!0))}}))}},Ae=function(){return function(e){A().then((function(t){e({type:"SET_CAPTCHA_URL",data:{captcha:t.data.url}})}))}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"SET_CAPTCHA_URL":return Object(f.a)(Object(f.a)({},e),t.data);default:return e}},Ue=n(71),Me=n.n(Ue),Le=function(){var e,t,n=Object(h.c)(),a=Object(be.b)({mode:"onBlur"}),s=a.register,r=a.handleSubmit,o=a.formState.errors,i=Object(h.d)((function(e){return e.auth.isAuth})),c=Object(h.d)((function(e){return e.auth.captcha})),l=Object(h.d)((function(e){return e.app.error}));if(i)return Object(X.jsx)(p.a,{to:"/profile"});var u=Object(ie.a)({typography:{fontFamily:'"Montserrat",  sans-serif',fontWeightRegular:500}});return Object(X.jsx)("div",{className:Me.a.loginContainer,children:Object(X.jsx)("form",{onSubmit:r((function(e){var t=e.email,a=e.password,s=e.rememberMe,r=e.captchaText;n(function(e,t,n,a){return function(s){T(e,t,n,a).then((function(e){0===e.data.resultCode?s(Fe()):(10===e.data.resultCode&&s(Ae()),e.data.messages.length&&s({type:"APP/SET-ERROR",error:e.data.messages[0]}))}))}}(t,a,s,r))})),children:Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(Me.a.container),children:[Object(X.jsxs)("div",{style:{marginBottom:"25px"},children:[Object(X.jsx)("div",{children:"To log in, use my accout credentials:"}),Object(X.jsx)("div",{children:"viharevakatia@gmail.com"}),Object(X.jsx)("div",{children:"qwerty123"})]}),(null===o||void 0===o?void 0:o.email)&&Object(X.jsx)("div",{style:{color:"red"},children:(null===o||void 0===o||null===(e=o.email)||void 0===e?void 0:e.message)||"error"}),Object(X.jsx)("input",Object(f.a)({className:"".concat(q.a.input,"  ").concat(Me.a.input)},s("email",{required:"required",pattern:{message:"invalid email",value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}}))),(null===o||void 0===o?void 0:o.password)&&Object(X.jsx)("div",{style:{color:"red"},children:(null===o||void 0===o||null===(t=o.password)||void 0===t?void 0:t.message)||"error"}),Object(X.jsx)("input",Object(f.a)({className:"".concat(q.a.input,"  ").concat(Me.a.input),type:"password"},s("password",{required:"required",minLength:{value:4,message:"min 4 symbols"}}))),Object(X.jsx)("div",{style:{marginBottom:"25px"},children:Object(X.jsx)(ce.a,{theme:u,children:Object(X.jsx)(Ie.a,{label:"Remember me",control:Object(X.jsx)(Se.a,Object(f.a)({icon:Object(X.jsx)(we.a,{}),checkedIcon:Object(X.jsx)(Ne.a,{}),sx:{color:"#104f9e","&.Mui-checked":{color:"#104f9e"},borderRadius:"50%"}},s("rememberMe")))})})}),c&&Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{children:Object(X.jsx)("img",{src:c,alt:""})}),Object(X.jsx)("input",Object(f.a)({className:"".concat(q.a.input,"  ").concat(Me.a.input)},s("captchaText",{required:"required"})))]}),Object(X.jsx)("button",{type:"submit",className:"".concat(q.a.button),children:"Login"}),l&&Object(X.jsxs)("div",{style:{color:"red"},children:[l," "]})]})})})},ze=n(72),Re=n.n(ze),Be=function(e){return Object(X.jsx)("header",{className:Re.a.header,children:Object(X.jsx)("div",{children:Object(X.jsx)("div",{className:Re.a.cont,children:e.isAuth?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:Re.a.login,children:e.login}),Object(X.jsx)("div",{children:Object(X.jsx)("button",{className:"".concat(Re.a.button," ").concat(q.a.button),onClick:e.logout,children:" Log out"})})]}):Object(X.jsx)($.b,{className:"".concat(Re.a.button," ").concat(q.a.button),to:"/login",children:"Login"})})})})},Ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(X.jsx)(Be,Object(f.a)({},this.props))}}]),n}(r.a.Component),We=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){F().then((function(t){0===t.data.resultCode&&e(Te(null,null,null,!1))}))}}})(Ge),He=n(132),Je=n.n(He),Ve=n(59),qe=n.n(Ve),Ze=function(e){return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)("div",{className:"".concat(qe.a.item," ").concat(qe.a.active),children:[Object(X.jsx)("div",{className:qe.a.icon,children:Object(X.jsx)(Z.a,{icon:e.icon,size:e.size})}),Object(X.jsx)("div",{className:qe.a.navlinkCont,children:Object(X.jsx)($.b,{to:e.to,className:qe.a.item,activeClassName:qe.a.activeLink,children:e.linkName})})]})})},Qe=function(){return Object(X.jsx)("div",{className:Je.a.nav,children:Object(X.jsxs)("div",{className:q.a.container,children:[Object(X.jsx)(Ze,{icon:Q.d,size:"lg",to:"/profile",linkName:"Profile"}),Object(X.jsx)(Ze,{icon:Q.k,size:"lg",to:"/dialogs",linkName:"Messages"}),Object(X.jsx)(Ze,{icon:Q.l,size:"lg",to:"/users",linkName:"Find Users"}),Object(X.jsx)(Ze,{icon:Q.h,size:"lg",to:"/posts",linkName:"Posts"}),Object(X.jsx)(Ze,{icon:Q.g,size:"lg",to:"/music",linkName:"Music"})]})})},Xe=n(226),Ke={messageForNewPost:"",postData:[{id:Object(Xe.a)(),message:"Hi, how are you?",likesCount:12,date:"18.06.2021 at 18:25 "},{id:Object(Xe.a)(),message:"It's my first post",likesCount:11,date:"04.05.2021 at 21:50"},{id:Object(Xe.a)(),message:"I am so fine today",likesCount:11,date:"28.07.2021 at 04:17"}],profile:{},status:""},Ye=function(e){return{type:"UPDATE_USER_STATUS",status:e}},$e=function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(R(!0)),t.next=3,y(e);case 3:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data}),n(R(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},et=function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"UPDATE_PHOTO",photos:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},tt=n(60),nt=n.n(tt),at=n(61),st=n.n(at),rt=function(e){return Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(st.a.container),children:[Object(X.jsxs)("div",{className:st.a.descContainer,children:[Object(X.jsx)("img",{className:st.a.userPhoto,src:e.profile.photos.large?e.profile.photos.large:ee}),Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:st.a.name,children:e.profile.fullName}),Object(X.jsx)("div",{className:st.a.date,children:e.date})]})]}),Object(X.jsx)("p",{className:st.a.item,children:e.message}),Object(X.jsxs)("div",{children:[Object(X.jsxs)("span",{children:[" ",Object(X.jsx)(Z.a,{icon:Q.c})," "]})," ",e.likesCount]})]})},ot=function(e){if(!e.isAuth)return Object(X.jsx)(p.a,{to:"/login"});var t=e.profilePage.postData.map((function(t){return Object(X.jsx)(rt,{profile:e.profilePage.profile,date:t.date,message:t.message,likesCount:t.likesCount},t.id)}));return Object(X.jsx)("div",{className:nt.a.postsBlock,children:Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(nt.a.addPostContainer),children:[Object(X.jsx)("div",{className:nt.a.header,children:"My posts"}),Object(X.jsx)("textarea",{className:"".concat(q.a.input," ").concat(nt.a.textarea),placeholder:"What's new?",value:e.profilePage.messageForNewPost,onChange:function(t){e.updateNewPostText(t.currentTarget.value)}}),Object(X.jsx)("div",{children:Object(X.jsx)("button",{className:"".concat(q.a.button," ").concat(nt.a.addButton),onClick:function(){var t=new Date,n=t.getDay()+"."+t.getMonth()+"."+t.getFullYear()+" at "+(t.getHours()+":"+t.getMinutes());e.addPost(e.profilePage.messageForNewPost,n)},children:"Add post"})})]}),Object(X.jsx)("div",{className:nt.a.posts,children:t})]})})},it=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){0===Object.keys(this.props.profilePage.profile).length&&(this.props.userId?this.props.getUserProfile(this.props.userId):this.props.history.push("/login"))}},{key:"render",value:function(){return Object(X.jsxs)(X.Fragment,{children:[this.props.isFetching?Object(X.jsx)(ge,{}):null,0!==Object.keys(this.props.profilePage.profile).length?Object(X.jsx)(ot,{profilePage:this.props.profilePage,isAuth:this.props.isAuth,addPost:this.props.addPost,updateNewPostText:this.props.updateNewPostText}):Object(X.jsx)(X.Fragment,{})]})}}]),n}(r.a.Component),ct=Object(me.c)(Object(h.b)((function(e){return{profilePage:e.profilePage,isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching,userId:e.auth.id}}),{updateNewPostText:function(e){return{type:"UPDATE-NEW-POST-TEXT",newPostText:e}},getUserProfile:$e,addPost:function(e,t){return{type:"ADD-POST",postMessage:e,date:t}}}))(it),lt=n(33),ut=n.n(lt),dt=function(e){return Object(X.jsxs)("div",{className:ut.a.userContainer,children:[Object(X.jsx)("div",{onClick:function(){return e.changeUser(e.id)},children:Object(X.jsx)("img",{className:ut.a.userPhoto,src:ee})}),Object(X.jsx)("div",{className:e.id===e.activeUserId?"".concat(ut.a.name," ").concat(ut.a.active):"".concat(ut.a.name),children:e.name})]})},jt=function(e){return Object(X.jsx)("div",{className:"".concat(q.a.container," ").concat(ut.a.messageContainer),children:e.message})},bt=function(e){var t=Object(h.d)((function(e){return e.dialogsPage.dialogsData[0].id})),n=Object(s.useState)(t),a=Object(W.a)(n,2),r=a[0],o=a[1],i=Object(s.useState)(""),c=Object(W.a)(i,2),l=c[0],u=c[1],d=function(e){o(e)};return Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:"".concat(q.a.container," ").concat(ut.a.usersContainer),children:e.dialogsPage.dialogsData.map((function(e){return Object(X.jsx)(dt,{activeUserId:r,changeUser:d,name:e.name,id:e.id},e.id)}))}),Object(X.jsxs)("div",{className:ut.a.messages,children:[Object(X.jsx)("div",{children:e.dialogsPage.messagesData[r].map((function(e){return Object(X.jsx)(jt,{userId:r,message:e.message},e.id)}))}),Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(ut.a.addMessageContainer),children:[Object(X.jsx)("textarea",{className:"".concat(q.a.input," ").concat(ut.a.textarea),value:l,placeholder:"Enter your message",onChange:function(e){u(e.currentTarget.value)}}),Object(X.jsx)("div",{children:Object(X.jsx)("button",{className:"".concat(ut.a.button," ").concat(q.a.button),onClick:function(){e.sendMessage(l,r),u("")},children:" Send"})})]})]})]})},pt=n(4),ft=Object(Xe.a)(),ht=Object(Xe.a)(),Ot=Object(Xe.a)(),gt=Object(Xe.a)(),mt=Object(Xe.a)(),xt={dialogsData:[{id:ft,name:"Michael"},{id:ht,name:"Alex"},{id:Ot,name:"Elizaveta"},{id:gt,name:"Roman"},{id:mt,name:"Vladimir"}],messagesData:(a={},Object(pt.a)(a,ft,[{id:Object(Xe.a)(),message:"my team had a debate on what the best looping variable name is"},{id:Object(Xe.a)(),message:"i won"},{id:Object(Xe.a)(),message:'junior dev makes a mistake: "im so fired, my career is over"'},{id:Object(Xe.a)(),message:'senior dev makes a mistake: "lol hey guys look at this dumb shit i did"'}]),Object(pt.a)(a,ht,[{id:Object(Xe.a)(),message:"-my mate needs a website designing, told him 500$. i have sent him your number"},{id:Object(Xe.a)(),message:"-what? how big is the website?"},{id:Object(Xe.a)(),message:"-normal screen size"}]),Object(pt.a)(a,Ot,[{id:Object(Xe.a)(),message:"teacher: if i have 0.1 apples in pne hand and 0.2 apples in the other hand, how many apples do i have"},{id:Object(Xe.a)(),message:"Javascript:0.30000000000000004 "}]),Object(pt.a)(a,gt,[{id:Object(Xe.a)(),message:"coworker: so how did you solve the bug?"},{id:Object(Xe.a)(),message:"me:ostrich algorithm"},{id:Object(Xe.a)(),message:'*In computer science, the ostrich algorithm is a strategy of ignoring potential problems on the basis that they may be exceedingly rare. It is named after the ostrich effect which is defined as "to stick one\'s head in the sand and pretend there is no problem". It is used when it is more cost-effective to allow the problem to occur than to attempt its prevention.*'}]),Object(pt.a)(a,mt,[{id:Object(Xe.a)(),message:"people are out there making new year plans, getting married, going on vacation and here I am wondering what should I name class in my code"}]),a)},_t=["isAuth"],vt=function(e){return{isAuth:e.auth.isAuth}};function Pt(e){return Object(h.b)(vt)((function(t){var n=t.isAuth,a=Object(Y.a)(t,_t);return n?Object(X.jsx)(e,Object(f.a)({},a)):Object(X.jsx)(p.a,{to:"/login"})}))}var Ct=Object(me.c)(Pt,Object(h.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t,n){e(function(e,t){return{type:"SEND-MESSAGE",message:e,userId:t}}(t,n))}}})))(bt),Nt=n(236),yt=["profile","userId"],wt=function(e){var t=e.profile,n=e.userId,a=Object(Y.a)(e,yt),s=Object(h.c)(),r=Object(be.b)({defaultValues:{lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName,aboutMe:t.aboutMe,contacts:t.contacts},mode:"onBlur"}),o=r.register,i=r.handleSubmit,c=Object(ie.a)({typography:{fontFamily:'"Montserrat",  sans-serif',fontWeightRegular:500},palette:{primary:{main:"#104f9e"}}});return Object(X.jsx)(ce.a,{theme:c,children:Object(X.jsx)("form",{onSubmit:i((function(e){s(function(e,t){return function(){var n=Object(O.a)(x.a.mark((function n(a){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k(e);case 2:0===n.sent.data.resultCode&&a($e(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,n)),a.switchOffEditMode()})),children:Object(X.jsxs)(Nt.a,{children:[Object(X.jsx)(Ie.a,{label:"lookingForAJob",control:Object(X.jsx)(Se.a,Object(f.a)({icon:Object(X.jsx)(we.a,{}),checkedIcon:Object(X.jsx)(Ne.a,{}),sx:{color:"#104f9e","&.Mui-checked":{color:"#104f9e"},borderRadius:"50%"}},o("lookingForAJob")))}),Object(X.jsx)(je.a,Object(f.a)({label:"lookingForAJobDescription",margin:"normal",variant:"standard"},o("lookingForAJobDescription"))),Object(X.jsx)(je.a,Object(f.a)({label:"fullName",margin:"normal",variant:"standard"},o("fullName"))),Object(X.jsx)(je.a,Object(f.a)({label:"aboutMe",margin:"normal",variant:"standard"},o("aboutMe"))),Object.keys(t.contacts).map((function(e){var t="contacts."+e;return Object(X.jsx)(je.a,Object(f.a)({label:e,margin:"normal",variant:"standard"},o(t)))})),Object(X.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(X.jsx)("button",{type:"submit",className:"".concat(q.a.button),children:"Edit"})})]})})})},It=n(19),St=n.n(It),kt=function(e){var t=Object(h.c)(),n=Object(s.useState)(!1),a=Object(W.a)(n,2),r=a[0],o=a[1],i=Object(s.useState)(e.status),c=Object(W.a)(i,2),l=c[0],u=c[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(X.jsxs)("div",{children:[Object(X.jsx)("span",{className:St.a.textHeader,children:"status :"}),r&&Object(X.jsx)("input",{className:q.a.input,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:l,onBlur:function(){o(!1),t(function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:0===t.sent.data.resultCode&&n(Ye(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l))}}),!r&&Object(X.jsxs)("span",{onDoubleClick:function(){e.isOwner&&o(!0)},className:St.a.desc,children:[e.isOwner&&Object(X.jsxs)("span",{children:[" ",Object(X.jsx)(Z.a,{size:"1x",icon:Q.j}),"... "]}),Object(X.jsx)("span",{children:l||"no status"})]})]})},Et=function(e){var t=Object(h.c)(),n=Object(s.useRef)();return Object(X.jsxs)("div",{className:St.a.mainBlock,children:[Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(St.a.mainProfileDescContainer),children:[Object(X.jsxs)("div",{className:St.a.flex,children:[Object(X.jsx)("div",{children:Object(X.jsx)("div",{children:Object(X.jsx)("img",{className:St.a.userPhoto,src:e.profile.photos.large?e.profile.photos.large:ee})})}),Object(X.jsx)("div",{children:e.isOwner&&Object(X.jsxs)("div",{children:[Object(X.jsx)("input",{style:{display:"none"},ref:n,type:"file",onChange:function(n){n.target.files&&t(e.updatePhoto(n.target.files[0]))}}),Object(X.jsx)("button",{className:"".concat(q.a.button," ").concat(St.a.editButton),onClick:function(){return n.current.click()},children:Object(X.jsx)(Z.a,{size:"lg",icon:Q.e})})]})})]}),e.isOwner?Object(X.jsxs)("div",{className:St.a.name,children:[" ",e.profile.fullName]}):Object(X.jsxs)("div",{style:{textAlign:"center"},className:St.a.name,children:[" ",e.profile.fullName]})]}),Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(St.a.jobDescContainer),children:[Object(X.jsxs)("div",{className:St.a.desc,children:[Object(X.jsx)("span",{className:St.a.textHeader,children:"aboutMe: "}),e.profile.aboutMe?e.profile.aboutMe:"no info"]}),Object(X.jsx)(kt,{isOwner:e.isOwner,status:e.status}),Object(X.jsxs)("div",{className:St.a.desc,children:[Object(X.jsx)("span",{className:St.a.textHeader,children:"lookingForAJob:"})," ",e.profile.lookingForAJob?"I am looking for a job":"I am not looking for a job"]}),e.profile.lookingForAJob&&Object(X.jsxs)("div",{className:St.a.desc,children:[Object(X.jsx)("span",{className:St.a.textHeader,children:"lookingForAJobDescription:"})," ",e.profile.lookingForAJobDescription]}),e.isOwner&&Object(X.jsx)("div",{className:St.a.buttonContainer,children:Object(X.jsx)("button",{className:"".concat(q.a.button," ").concat(St.a.editButton),onClick:e.switchOnEditMode,children:Object(X.jsx)(Z.a,{size:"lg",icon:Q.m})})})]})]})},Tt=n(62),Ft={github:Tt.b,vk:Tt.e,facebook:Tt.a,instagram:Tt.c,twitter:Tt.d,website:Q.f,youtube:Tt.f,mainLink:Q.i},At=function(e){return Object(X.jsx)("div",{children:Object(X.jsx)("div",{className:St.a.contactsContainer,children:Object.keys(e.profile.contacts).map((function(t){return Object(X.jsxs)("div",{className:"".concat(q.a.container," ").concat(St.a.contactContainer),children:[Object(X.jsx)("div",{className:St.a.iconContainer,children:Object(X.jsx)(Z.a,{size:"2x",icon:Ft[t]})}),Object(X.jsxs)("div",{className:St.a.contactDescContainer,children:[Object(X.jsx)("div",{className:St.a.contact,children:t}),Object(X.jsx)("div",{children:Object(X.jsx)("a",{className:St.a.contactValue,href:e.profile.contacts[t],children:e.profile.contacts[t]?"click here to go":"no link"})})]})]},t)}))})})},Dt=function(e){var t=Object(s.useState)(!1),n=Object(W.a)(t,2),a=n[0],r=n[1];return Object.keys(e.profile).length?Object(X.jsx)(X.Fragment,{children:a?Object(X.jsx)("div",{children:Object(X.jsx)(wt,{userId:e.userId,profile:e.profile,switchOffEditMode:function(){return r(!1)}})}):Object(X.jsx)("div",{children:Object(X.jsxs)("div",{children:[Object(X.jsx)(Et,{profile:e.profile,status:e.status,isOwner:e.isOwner,updatePhoto:e.updatePhoto,userId:e.userId,switchOnEditMode:function(){return r(!0)}}),Object(X.jsx)(At,{profile:e.profile})]})})}):Object(X.jsx)(ge,{})},Ut=function(e){return Object(X.jsx)("div",{children:Object(X.jsx)(Dt,{status:e.status,profile:e.profile,isOwner:e.isOwner,updatePhoto:e.updatePhoto,userId:e.userId})})},Mt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(this.props.userId?e=this.props.userId:this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props.match.params.userId;a!==e.match.params.userId&&(a||(this.props.userId?a=this.props.userId:this.props.history.push("/login")),this.props.getUserProfile(a),this.props.getUserStatus(a))}},{key:"render",value:function(){return Object(X.jsx)(Ut,Object(f.a)(Object(f.a)({},this.props),{},{userId:this.props.userId,profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,updatePhoto:et}))}}]),n}(r.a.Component),Lt=Object(me.c)(Pt,Object(h.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,userId:e.auth.id}}),{getUserProfile:$e,getUserStatus:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:a=t.sent,n({type:"SET_USER_STATUS",status:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updatePhoto:et}),p.f)(Mt),zt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.isInitialized?Object(X.jsxs)("div",{className:b.a.appWrapper,children:[Object(X.jsx)(We,{}),Object(X.jsx)(Qe,{}),Object(X.jsxs)("div",{className:b.a.appWrapperContent,children:[Object(X.jsx)(p.b,{path:"/dialogs",render:function(){return Object(X.jsx)(Ct,{})}}),Object(X.jsx)(p.b,{path:"/profile/:userId?",render:function(){return Object(X.jsx)(Lt,{})}}),Object(X.jsx)(p.b,{path:"/users",render:function(){return Object(X.jsx)(Pe,{})}}),Object(X.jsx)(p.b,{path:"/login",render:function(){return Object(X.jsx)(Le,{})}}),Object(X.jsx)(p.b,{path:"/posts",render:function(){return Object(X.jsx)(ct,{})}})]})]}):Object(X.jsx)("div",{children:Object(X.jsx)(ge,{})})}}]),n}(r.a.Component),Rt=Object(me.c)(p.f,Object(h.b)((function(e){return{isInitialized:e.app.isInitialized}}),{initializeApp:function(){return function(e){var t=e(Fe());Promise.all([t]).then((function(){e({type:"APP/SET-INITIALIZED"})}))}}}))(zt),Bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,237)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),r(e),o(e)}))},Gt=n(133),Wt=Object(me.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(f.a)(Object(f.a)({},e),{},{postData:[{id:Object(Xe.a)(),message:t.postMessage,likesCount:0,date:t.date}].concat(Object(g.a)(e.postData)),messageForNewPost:""});case"UPDATE-NEW-POST-TEXT":return Object(f.a)(Object(f.a)({},e),{},{messageForNewPost:t.newPostText});case"SET_USER_PROFILE":return Object(f.a)(Object(f.a)({},e),{},{profile:t.profile});case"SET_USER_STATUS":case"UPDATE_USER_STATUS":return Object(f.a)(Object(f.a)({},e),{},{status:t.status});case"UPDATE_PHOTO":return Object(f.a)(Object(f.a)({},e),{},{profile:Object(f.a)(Object(f.a)({},e.profile),{},{photos:t.photos})});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;return"SEND-MESSAGE"===t.type?Object(f.a)(Object(f.a)({},e),{},{messagesData:Object(f.a)(Object(f.a)({},e.messagesData),{},Object(pt.a)({},t.userId,[].concat(Object(g.a)(e.messagesData[t.userId]),[{id:Object(Xe.a)(),message:t.message}])))}):e},usersPage:G,auth:De,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-ERROR":return Object(f.a)(Object(f.a)({},e),{},{error:t.error});case"APP/SET-INITIALIZED":return Object(f.a)(Object(f.a)({},e),{},{isInitialized:!0});default:return Object(f.a)({},e)}}}),Ht=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.c,Jt=Object(me.d)(Wt,Ht(Object(me.a)(Gt.a)));i.a.render(Object(X.jsx)($.a,{children:Object(X.jsx)(h.a,{store:Jt,children:Object(X.jsx)(Rt,{})})}),document.getElementById("root")),Bt()},19:function(e,t,n){e.exports={contactsContainer:"ProfileInfo_contactsContainer__1BM-A",contactContainer:"ProfileInfo_contactContainer__1SGCa",iconContainer:"ProfileInfo_iconContainer__WiAlG",contact:"ProfileInfo_contact__3V1By",contactDescContainer:"ProfileInfo_contactDescContainer__2oEIy",contactValue:"ProfileInfo_contactValue__16MJS",editButton:"ProfileInfo_editButton__1t7HM",userPhoto:"ProfileInfo_userPhoto__2pizE",name:"ProfileInfo_name__1tQty",mainProfileDescContainer:"ProfileInfo_mainProfileDescContainer__14Zn7",flex:"ProfileInfo_flex__NBfdw",jobDescContainer:"ProfileInfo_jobDescContainer__6pvzj",mainBlock:"ProfileInfo_mainBlock__3WxOV",textHeader:"ProfileInfo_textHeader__2IvZ2",desc:"ProfileInfo_desc__3zz2w",buttonContainer:"ProfileInfo_buttonContainer__gfXc3"}},33:function(e,t,n){e.exports={usersContainer:"Dialogs_usersContainer__3Jfqp",userPhoto:"Dialogs_userPhoto__1kH6N",userContainer:"Dialogs_userContainer__32QTU",addMessageContainer:"Dialogs_addMessageContainer__iIOCE",name:"Dialogs_name__3-cPl",textarea:"Dialogs_textarea__ba3TG",active:"Dialogs_active__3M1Zg",messages:"Dialogs_messages__J5Urf",button:"Dialogs_button__3VkOg"}},54:function(e,t,n){e.exports={paginatorCont:"Paginator_paginatorCont__3C0qU",pagesContainer:"Paginator_pagesContainer__jnQVB",page:"Paginator_page__2mIEi",button:"Paginator_button__2-KHL",selectedPage:"Paginator_selectedPage__vwed8"}},59:function(e,t,n){e.exports={item:"NavbarItem_item__x3nGd",icon:"NavbarItem_icon__1fA5b",navlinkCont:"NavbarItem_navlinkCont__32Oo7",activeLink:"NavbarItem_activeLink__3AJEa"}},60:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2Fguy",posts:"MyPosts_posts__3fOt8",header:"MyPosts_header__yfGcQ",addPostContainer:"MyPosts_addPostContainer__1mqKj",textarea:"MyPosts_textarea__2TEWL",addButton:"MyPosts_addButton__fCuVj"}},61:function(e,t,n){e.exports={container:"Post_container__23mzw",item:"Post_item__24Wq_",userPhoto:"Post_userPhoto__1MteQ",descContainer:"Post_descContainer__3GGyV",name:"Post_name__2G6z7",date:"Post_date__3eRgI"}},70:function(e,t,n){e.exports={userContainer:"User_userContainer__11UAK",imgContainer:"User_imgContainer__1VjaF",descContainer:"User_descContainer__Z7yzT",name:"User_name__srShN",status:"User_status__j9l_C"}},71:function(e,t,n){e.exports={loginContainer:"Login_loginContainer__3Oo3V",container:"Login_container__1HrBB",input:"Login_input__2qEfl"}},72:function(e,t,n){e.exports={header:"Header_header__2eFGY",cont:"Header_cont__2DEQv",login:"Header_login__1ESPo",button:"Header_button__2CM0j"}},88:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__1oSX9",usersContainer:"Users_usersContainer__3ewtF"}}},[[182,1,2]]]);
//# sourceMappingURL=main.62612dab.chunk.js.map